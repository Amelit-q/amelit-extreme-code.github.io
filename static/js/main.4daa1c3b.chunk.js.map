{"version":3,"sources":["components/Toolbar/Toolbar.tsx","components/ToolbarButton/ToolbarButton.tsx","components/ConversationSearch/ConversationSearch.tsx","components/ConversationListItem/ConversationListItem.tsx","components/ConversationList/ConversationsList.tsx","components/Message/Message.tsx","components/Compose/Compose.tsx","components/MessageList/MessageList.tsx","components/Messenger/Messenger.tsx","types/Auth/Requests/RegisterCommand.ts","consts/Routes.ts","api/AuthApi.ts","stores/entities/SessionEntity.ts","stores/AuthStore.ts","pages/Registration.tsx","types/Auth/Requests/LoginCommand.ts","components/LoginForm/LoginForm.tsx","components/ProfileBar/ProfileBar.tsx","pages/Main.tsx","types/Auth/Requests/VerifyEmailCommand.ts","pages/Verification.tsx","components/App/App.tsx","index.tsx"],"names":["Toolbar","props","title","leftItems","rightItems","className","ToolbarButton","icon","ConversationSearch","type","placeholder","ConversationListItem","useEffect","shave","data","photo","name","text","src","alt","ConversationsList","useState","conversations","setConversations","getConversations","axios","get","then","response","newConversations","results","map","result","picture","large","first","last","conversation","Message","isMine","startsSequence","endsSequence","showTimestamp","friendlyTimestamp","moment","timestamp","format","join","message","Compose","MessageList","messages","setMessages","getMessages","tempMessages","id","author","Date","getTime","i","messageCount","length","previous","current","next","currentMoment","previousMoment","previousDuration","duration","diff","as","nextMoment","nextDuration","push","renderMessages","Messenger","RegisterCommand","phoneNumber","email","displayName","password","verificationMethod","termsAccepted","this","ApiRoute","apiDomain","process","AuthRoutes","postRegister","postLogin","postRefreshToken","getVerifyPhone","verifyEmail","ChatsRoutes","getChats","postGroup","postDirectChat","postJoinGroup","MessagesRoutes","getChatMessages","postMessage","putMessage","deleteMessage","AuthApi","headers","apiConnector","create","baseURL","post","res","Promise","resolve","errorText","status","console","log","reject","userId","refreshTokenId","DefaultSessionEntity","session","setAccessToken","accessToken","setRefreshToken","setUserId","_accessToken","_refreshTokenId","_userId","observable","action","value","computed","AuthStore","registrationApi","makeAutoObservable","register","setMessage","setSuccess","success","login","_session","_message","_success","localStorage","setItem","Registration","observer","authStore","React","setPhoneNumber","setEmail","setName","setPassword","setTermsAccepted","setVerificationMethod","FormContainer","onSubmit","event","preventDefault","registration","FormWrapper","InputFormWrapper","InputWrapper","onChange","target","style","margin","SelectWrapper","SubmitButton","styled","LoginCommand","LoginForm","Navbar","registerPopupVisible","setRegisterPopupVisible","Container","onClick","onDoubleClick","LoginWrapper","Main","VerifyEmailCommand","Verification","getItem","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4daa1c3b.chunk.js","sourcesContent":["import React from \"react\"\nimport \"./Toolbar.css\"\n\nexport const Toolbar = (props: any) => {\n    const {title, leftItems, rightItems} = props\n    return (\n        <div className=\"toolbar\">\n            <div className=\"left-items\">{leftItems}</div>\n            <h1 className=\"toolbar-title\">{title}</h1>\n            <div className=\"right-items\">{rightItems}</div>\n        </div>\n    )\n}\n","import React from \"react\";\nimport \"./ToolbarButton.css\";\n\n// @ts-ignore\nexport const ToolbarButton = ({ icon }) => {\n  \n  return <i className={`toolbar-button ${icon}`} />;\n};\n","import React from \"react\";\nimport \"./ConversationSearch.css\";\n\nexport const ConversationSearch = () => {\n  return (\n    <div className=\"conversation-search\">\n      <input\n        type=\"search\"\n        className=\"conversation-search-input\"\n        placeholder=\"Search Messages\"\n      />\n    </div>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport shave from \"shave\";\n\nimport \"./ConversationListItem.css\";\n\nexport const ConversationListItem = (props: any) => {\n  useEffect(() => {\n    shave(\".conversation-snippet\", 20);\n  });\n\n  const { photo, name, text } = props.data;\n\n  return (\n    <div className=\"conversation-list-item\">\n      <img className=\"conversation-photo\" src={photo} alt=\"conversation\" />\n      <div className=\"conversation-info\">\n        <h1 className=\"conversation-title\">{name}</h1>\n        <p className=\"conversation-snippet\">{text}</p>\n      </div>\n    </div>\n  );\n};\n","import React, {useEffect, useState} from \"react\"\nimport {Toolbar} from \"../Toolbar/Toolbar\"\nimport {ToolbarButton} from \"../ToolbarButton/ToolbarButton\"\nimport {ConversationSearch} from \"../ConversationSearch/ConversationSearch\"\nimport axios from \"axios\"\n\nimport \"./ConversationList.css\"\nimport {ConversationListItem} from \"../ConversationListItem/ConversationListItem\"\n\nexport const ConversationsList = (props: any) => {\n    const [conversations, setConversations] = useState([])\n    useEffect(() => {\n        getConversations()\n    })\n\n    const getConversations = () => {\n        axios.get(\"https://randomuser.me/api/?results=20\").then((response) => {\n            let newConversations = response.data.results.map((result: any) => {\n                return {\n                    photo: result.picture.large,\n                    name: `${result.name.first} ${result.name.last}`,\n                    text: \"Hello world! This is a long message that needs to be truncated.\",\n                }\n            })\n            // @ts-ignore\n            setConversations([...conversations, ...newConversations])\n        })\n    }\n\n\n    return (\n        <div className=\"conversation-list\">\n            <Toolbar\n                title=\"Messenger\"\n                leftItems={[<ToolbarButton key=\"cog\" icon=\"ion-ios-cog\" />]}\n                rightItems={[\n                    <ToolbarButton key=\"add\" icon=\"ion-ios-add-circle-outline\" />,\n                ]}\n            />\n            <ConversationSearch />\n            {conversations.map((conversation: any) => (\n                <ConversationListItem key={conversation.name} data={conversation} />\n            ))}\n        </div>\n    )\n}\n","import React from \"react\"\nimport moment from \"moment\"\nimport \"./Message.css\"\n\nexport const Message = (props: any) => {\n    const {data, isMine, startsSequence, endsSequence, showTimestamp} = props\n\n    const friendlyTimestamp = moment(data.timestamp).format(\"LLLL\")\n    return (\n        <div\n            className={[\n                \"message\",\n                `${isMine ? \"mine\" : \"\"}`,\n                `${startsSequence ? \"start\" : \"\"}`,\n                `${endsSequence ? \"end\" : \"\"}`,\n            ].join(\" \")}\n        >\n            {showTimestamp && <div className=\"timestamp\">{friendlyTimestamp}</div>}\n\n            <div className=\"bubble-container\">\n                <div className=\"bubble\" title={friendlyTimestamp}>\n                    {data.message}\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport \"./Compose.css\"\n\nexport const Compose = (props: any) => {\n    return (\n        <div className=\"compose\">\n            <input\n                type=\"text\"\n                className=\"compose-input\"\n                placeholder=\"Type a message, @name\"\n            />\n\n            {props.rightItems}\n        </div>\n    )\n}\n","import React, {useEffect, useState} from \"react\"\nimport {Toolbar} from \"../Toolbar/Toolbar\"\nimport {ToolbarButton} from \"../ToolbarButton/ToolbarButton\"\nimport {Message} from \"../Message/Message\"\nimport moment from \"moment\"\n\nimport \"./MessageList.css\"\nimport {Compose} from \"../Compose/Compose\"\n\nconst MY_USER_ID = \"apple\"\n\nexport const MessageList = (props: any) => {\n    const [messages, setMessages] = useState([])\n\n    useEffect(() => {\n        getMessages()\n    })\n\n    const getMessages = () => {\n        var tempMessages = [\n            {\n                id: 1,\n                author: \"apple\",\n                message:\n                    \"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 2,\n                author: \"orange\",\n                message:\n                    \"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 3,\n                author: \"orange\",\n                message:\n                    \"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 4,\n                author: \"apple\",\n                message:\n                    \"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 5,\n                author: \"apple\",\n                message:\n                    \"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 6,\n                author: \"apple\",\n                message:\n                    \"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 7,\n                author: \"orange\",\n                message:\n                    \"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 8,\n                author: \"orange\",\n                message:\n                    \"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 9,\n                author: \"apple\",\n                message:\n                    \"Hello world! This is a long message that will hopefully get wrapped by our message bubble component! We will see how well it works.\",\n                timestamp: new Date().getTime(),\n            },\n            {\n                id: 10,\n                author: \"orange\",\n                message:\n                    \"It looks like it wraps exactly as it is supposed to. Lets see what a reply looks like!\",\n                timestamp: new Date().getTime(),\n            },\n        ]\n        // @ts-ignore\n        setMessages([...messages, ...tempMessages])\n    }\n\n    const renderMessages = () => {\n        let i = 0\n        let messageCount = messages.length\n        let tempMessages = []\n\n        while (i < messageCount) {\n            let previous = messages[i - 1]\n            let current = messages[i]\n            let next = messages[i + 1]\n            // @ts-ignore\n            let isMine = current.author === MY_USER_ID\n            // @ts-ignore\n            let currentMoment = moment(current.timestamp)\n            let prevBySameAuthor = false\n            let nextBySameAuthor = false\n            let startsSequence = true\n            let endsSequence = true\n            let showTimestamp = true\n\n            if (previous) {\n                // @ts-ignore\n                let previousMoment = moment(previous.timestamp)\n                let previousDuration = moment.duration(\n                    currentMoment.diff(previousMoment),\n                )\n                // @ts-ignore\n                prevBySameAuthor = previous.author === current.author\n\n                if (prevBySameAuthor && previousDuration.as(\"hours\") < 1) {\n                    startsSequence = false\n                }\n\n                if (previousDuration.as(\"hours\") < 1) {\n                    showTimestamp = false\n                }\n            }\n\n            if (next) {\n                // @ts-ignore\n                let nextMoment = moment(next.timestamp)\n                let nextDuration = moment.duration(nextMoment.diff(currentMoment))\n                // @ts-ignore\n                nextBySameAuthor = next.author === current.author\n\n                if (nextBySameAuthor && nextDuration.as(\"hours\") < 1) {\n                    endsSequence = false\n                }\n            }\n\n            tempMessages.push(\n                <Message\n                    key={i}\n                    isMine={isMine}\n                    startsSequence={startsSequence}\n                    endsSequence={endsSequence}\n                    showTimestamp={showTimestamp}\n                    data={current}\n                />,\n            )\n\n            // Proceed to the next message.\n            i += 1\n        }\n\n        return tempMessages\n    }\n\n    return (\n        <div className=\"message-list\">\n            <Toolbar\n                title=\"Conversation Title\"\n                rightItems={[\n                    <ToolbarButton\n                        key=\"info\"\n                        icon=\"ion-ios-information-circle-outline\"\n                    />,\n                    <ToolbarButton key=\"video\" icon=\"ion-ios-videocam\" />,\n                    <ToolbarButton key=\"phone\" icon=\"ion-ios-call\" />,\n                ]}\n            />\n\n            <div className=\"message-list-container\">{renderMessages()}</div>\n\n            <Compose\n                rightItems={[\n                    <ToolbarButton key=\"photo\" icon=\"ion-ios-camera\" />,\n                    <ToolbarButton key=\"image\" icon=\"ion-ios-image\" />,\n                    <ToolbarButton key=\"audio\" icon=\"ion-ios-mic\" />,\n                    <ToolbarButton key=\"money\" icon=\"ion-ios-card\" />,\n                    <ToolbarButton key=\"games\" icon=\"ion-logo-game-controller-b\" />,\n                    <ToolbarButton key=\"emoji\" icon=\"ion-ios-happy\" />,\n                ]}\n            />\n        </div>\n    )\n}\n","import React from \"react\"\nimport {ConversationsList} from \"../ConversationList/ConversationsList\"\nimport {MessageList} from \"../MessageList/MessageList\"\n\nimport \"./Messenger.css\"\n\nexport const Messenger = (props: any) => {\n    return (\n        <div className=\"messenger\">\n            {/* <Toolbar\n          title=\"Messenger\"\n          leftItems={[\n            <ToolbarButton key=\"cog\" icon=\"ion-ios-cog\" />\n          ]}\n          rightItems={[\n            <ToolbarButton key=\"add\" icon=\"ion-ios-add-circle-outline\" />\n          ]}\n        /> */}\n\n            {/* <Toolbar\n          title=\"Conversation Title\"\n          rightItems={[\n            <ToolbarButton key=\"info\" icon=\"ion-ios-information-circle-outline\" />,\n            <ToolbarButton key=\"video\" icon=\"ion-ios-videocam\" />,\n            <ToolbarButton key=\"phone\" icon=\"ion-ios-call\" />\n          ]}\n        /> */}\n\n            <div className=\"scrollable sidebar\">\n                <ConversationsList />\n            </div>\n\n            <div className=\"scrollable content\">\n                <MessageList />\n            </div>\n        </div>\n    )\n}\n","import {VerificationMethod} from \"../Enums/VerificationMethod\";\n\nexport class RegisterCommand {\n  phoneNumber: string;\n  email: string;\n  displayName: string;\n  password: string;\n  verificationMethod: VerificationMethod;\n  termsAccepted: boolean;\n\n\n  constructor(phoneNumber: string,\n              email: string,\n              displayName: string,\n              password: string,\n              verificationMethod: VerificationMethod,\n              termsAccepted: boolean) {\n    this.phoneNumber = phoneNumber;\n    this.email = email;\n    this.displayName = displayName;\n    this.password = password;\n    this.verificationMethod = verificationMethod;\n    this.termsAccepted = termsAccepted;\n  }\n}\n","export class ApiRoute {\n    static apiDomain = process.env.REACT_APP_API_BASEURL\n}\n\nexport class AuthRoutes {\n    static postRegister = \"/api/auth/register\"\n    static postLogin = \"/api/auth/login\"\n    static postRefreshToken = \"/api/auth/refresh-token\"\n    static getVerifyPhone = \"/api/auth/verify-phone\"\n    static verifyEmail = \"/api/auth/verify-email\"\n}\n\nexport class ChatsRoutes {\n    static getChats = \"/api/chats\"\n    static postGroup = \"/api/chats/group\"\n    static postDirectChat = \"/api/chats/direct-chat\"\n    static postJoinGroup = \"/api/chats/group/join/{chatId}\"\n}\n\nexport class MessagesRoutes {\n    static getChatMessages = \"/api/messages/{chatId}\"\n    static postMessage = \"/api/messages\"\n    static putMessage = \"/api/messages\"\n    static deleteMessage = \"/api/messages/{messageId}\"\n}\n\nexport class UserRoutes {\n    static getUserById = \"/api/users/{userId}\"\n}\n","import axios, {AxiosInstance} from \"axios\"\nimport {ApiRoute, AuthRoutes} from \"../consts/Routes\"\nimport {RegisterCommand} from \"../types/Auth/Requests/RegisterCommand\"\nimport {LoginCommand} from \"../types/Auth/Requests/LoginCommand\"\nimport {RefreshTokenCommand} from \"../types/Auth/Requests/RefreshTokenCommand\"\nimport {VerifyEmailCommand} from \"../types/Auth/Requests/VerifyEmailCommand\"\nimport {IBaseResponse} from \"../types/IBaseResponse\"\nimport {IRegisterResponse} from \"../types/Auth/Responses/IRegisterResponse\"\nimport {ILoginResponse} from \"../types/Auth/Responses/ILoginResponse\"\n\nexport class AuthApi {\n    protected headers: {\n        \"Content-Type\": \"application/json\"\n    } = {\n        \"Content-Type\": \"application/json\",\n    }\n\n\n    protected apiConnector: AxiosInstance\n\n    public constructor() {\n        this.apiConnector = axios.create({headers: this.headers, baseURL: ApiRoute.apiDomain})\n    }\n\n    public async register(data: RegisterCommand) {\n        try {\n\n            const res: {data: IRegisterResponse} = await this.apiConnector.post(\n                AuthRoutes.postRegister,\n                {\n                    phoneNumber: data.phoneNumber,\n                    email: data.email,\n                    displayName: data.displayName,\n                    password: data.password,\n                    verificationMethod: data.verificationMethod,\n                    termsAccepted: data.termsAccepted,\n                },\n                {headers: this.headers},\n            )\n\n            return Promise.resolve(res.data)\n        } catch (error) {\n            if (error && error.response) {\n                let errorText = \"\"\n                switch (error.response.status) {\n                    case 400:\n                        errorText = \"Bad Request\"\n                        break\n                    case 401:\n                        errorText = \"Wrong login or password\"\n                        break\n                    case 403:\n                        errorText = \"Access denied\"\n                        break\n                    case 409:\n                        errorText = \"Conflict\"\n                        break\n                    default:\n                        errorText = error.response.status\n                        break\n                }\n                console.log(\"One of the Error messages from Register Request: \", errorText)\n            }\n\n            return Promise.reject(error)\n        }\n    }\n\n    public async login(data: LoginCommand) {\n        try {\n            const res: {data: ILoginResponse} = await this.apiConnector.post(\n                AuthRoutes.postLogin,\n                {\n                    email: data.email,\n                    password: data.password,\n                },\n                {headers: this.headers},\n            )\n            return Promise.resolve(res.data)\n        } catch (error) {\n            if (error && error.response) {\n                let errorText = \"\"\n                switch (error.response.status) {\n                    case 401:\n                        errorText = \"Wrong login or password\"\n                        break\n                    case 403:\n                        errorText = \"Access denied\"\n                        break\n                    default:\n                        errorText = error.response.status\n                        break\n                }\n                console.log(\"One of the Error messages from Register Request: \", errorText)\n            }\n            return Promise.reject(error)\n        }\n    }\n\n    public async verifyEmail(data: VerifyEmailCommand) {\n\n        try {\n            const res: {data: IBaseResponse} = await this.apiConnector.post(AuthRoutes.verifyEmail, {email: data.email, userId: data.userId}, {headers: this.headers})\n            return Promise.resolve(res.data)\n        } catch (error) {\n\n            if (error && error.response) {\n                let errorText = \"\"\n                switch (error.response.status) {\n                    case 401:\n                        errorText = \"Wrong login or password\"\n                        break\n                    case 403:\n                        errorText = \"Access denied\"\n                        break\n                    default:\n                        errorText = error.response.status\n                        break\n                }\n                console.log(\"One of the Error messages from Register Request: \", errorText)\n            }\n\n            return Promise.reject(error)\n        }\n\n\n    }\n\n    public async verifyPhone(data: any) {\n    }\n\n    public async refreshToken(data: RefreshTokenCommand) {\n        try {\n            // eslint-disable-next-line\n            const res: {data: string} = await this.apiConnector.post(AuthRoutes.postRefreshToken, {refreshTokenId: data.refreshTokenId}, {headers: this.headers})\n\n            return Promise.resolve()\n        } catch (error) {\n            if (error && error.response) {\n                let errorText = \"\"\n                switch (error.response.status) {\n                    case 401:\n                        errorText = \"Wrong login or password\"\n                        break\n                    case 403:\n                        errorText = \"Access denied\"\n                        break\n                    default:\n                        errorText = error.response.status\n                        break\n                }\n                console.log(\"One of the Error messages from Register Request: \", errorText)\n            }\n            return Promise.reject(error)\n        }\n    }\n\n    public async logout(data: any) {\n    }\n\n    public async logoutAll(data: any) {\n    }\n}\n","import {action, computed, observable} from \"mobx\"\n\nexport interface IDefaultSession {\n    userId: string | null\n    refreshTokenId: string | null\n    accessToken: string | null\n}\n\nexport class DefaultSessionEntity {\n    @observable\n    protected _userId: string | null = null\n\n    @observable\n    protected _refreshTokenId: string | null = null\n\n    @observable\n    protected _accessToken: string | null = null\n\n\n    @action\n    private setAccessToken = (value: string | null) => {\n        this._accessToken = value\n    }\n\n    @action\n    private setRefreshToken = (value: string | null) => {\n        this._refreshTokenId = value\n    }\n\n    @action\n    private setUserId = (value: string | null) => {\n        this._userId = value\n    }\n\n\n    public constructor(session: IDefaultSession) {\n        this.setAccessToken(session.accessToken)\n        this.setRefreshToken(session.refreshTokenId)\n        this.setUserId(session.userId)\n    }\n\n    @computed\n    public get accessToken() {\n        return this._accessToken\n    }\n\n    @computed\n    public get refreshToken() {\n        return this._refreshTokenId\n    }\n\n    @computed\n    public get userId() {\n        return this._userId\n    }\n\n\n}\n","import {action, makeAutoObservable, observable} from \"mobx\"\nimport {AuthApi} from \"../api/AuthApi\"\nimport {RegisterCommand} from \"../types/Auth/Requests/RegisterCommand\"\nimport {LoginCommand} from \"../types/Auth/Requests/LoginCommand\"\nimport {VerifyEmailCommand} from \"../types/Auth/Requests/VerifyEmailCommand\"\nimport {IBaseResponse} from \"../types/IBaseResponse\"\nimport {IRegisterResponse} from \"../types/Auth/Responses/IRegisterResponse\"\nimport {DefaultSessionEntity, IDefaultSession} from \"./entities/SessionEntity\"\n\nexport class AuthStore {\n    private registrationApi = new AuthApi()\n\n    @observable\n    private _message: String | null = null\n\n    @observable\n    private _success: Boolean = false\n\n    @observable\n    private _userId: String | null = null\n\n    @observable\n    private _login: String | null = null\n\n    @observable\n    private _isLogged: boolean = false\n\n    @observable\n    private _session: DefaultSessionEntity | undefined = undefined\n\n    @action\n    public setMessage = (message: string) => {\n        this._message = message\n    }\n\n    @action\n    public setSuccess = (success: boolean) => {\n        this._success = success\n    }\n\n    @action\n    public setUserId = (userId: string) => {\n        this._userId = userId\n        localStorage.setItem(\"userId\", userId)\n    }\n\n    public async registration(data: RegisterCommand) {\n        try {\n\n            const res: IRegisterResponse = await this.registrationApi.register(data)\n            this.setMessage(res.message)\n            this.setSuccess(res.success)\n            this.setUserId(res.userId)\n            return Promise.resolve()\n        } catch (error) {\n            return Promise.reject(error)\n        }\n    }\n\n    public async verifyEmail(data: VerifyEmailCommand) {\n        try {\n            const res: IBaseResponse = await this.registrationApi.verifyEmail(data)\n            this.setMessage(res.message)\n            this.setSuccess(res.success)\n\n            return Promise.resolve()\n\n        } catch (error) {\n            return Promise.reject(error)\n        }\n    }\n\n    public async login(data: LoginCommand) {\n\n        try {\n            const session: IDefaultSession = await this.registrationApi.login(data)\n            this._session = new DefaultSessionEntity(session)\n            return Promise.resolve()\n        } catch (error) {\n            return Promise.reject(error)\n        }\n\n    }\n\n\n    public constructor() {\n        makeAutoObservable(this)\n    }\n}\n","import * as React from \"react\"\nimport {observer} from \"mobx-react-lite\"\n\nimport styled from \"styled-components\"\nimport {VerificationMethod} from \"../types/Auth/Enums/VerificationMethod\"\nimport {RegisterCommand} from \"../types/Auth/Requests/RegisterCommand\"\nimport {AuthStore} from \"../stores/AuthStore\"\n\n\nexport const Registration: React.FunctionComponent = observer(() => {\n    const authStore = new AuthStore()\n\n\n    const [phoneNumber, setPhoneNumber] = React.useState(\"\")\n    const [email, setEmail] = React.useState(\"\")\n    const [name, setName] = React.useState(\"\")\n    const [password, setPassword] = React.useState(\"\")\n    const [termsAccepted, setTermsAccepted] = React.useState(true)\n    const [verificationMethod, setVerificationMethod] = React.useState<VerificationMethod>(1)\n\n    const handleFormSubmit = (event: any) => {\n        event.preventDefault()\n        setTermsAccepted(true)\n        authStore.registration(new RegisterCommand(phoneNumber, email, name, password, verificationMethod, termsAccepted))\n\n    }\n\n    const handleSelectChange = (event: any) => {\n        if (event.target.value === \"phone\") {\n            setVerificationMethod(1)\n        } else if (event.target.value === \"email\") {\n            setVerificationMethod(2)\n        }\n\n    }\n\n\n    return (\n\n        <FormContainer onSubmit={handleFormSubmit}>\n            <FormWrapper>\n                <InputFormWrapper>\n                    <label>\n                        Phone Number:\n                        <InputWrapper type=\"text\" value={phoneNumber} onChange={(event) => setPhoneNumber(event.target.value)} placeholder={\"Enter your phone number\"} />\n                    </label>\n                </InputFormWrapper>\n\n                <InputFormWrapper>\n                    <label>\n                        Email:\n                        <InputWrapper type=\"e-mail\" value={email} onChange={(event) => setEmail(event.target.value)} placeholder={\"Enter your E-MAIL\"} />\n                    </label>\n                </InputFormWrapper>\n\n                <InputFormWrapper>\n                    <label>\n                        Name:\n                        <InputWrapper type=\"text\" value={name} onChange={(event) => setName(event.target.value)} placeholder={\"Enter your name\"} />\n                    </label>\n                </InputFormWrapper>\n\n                <InputFormWrapper>\n                    <label>\n                        Password:\n                        <InputWrapper type=\"password\" value={password} onChange={(event) => setPassword(event.target.value)} placeholder={\"Enter your password\"} />\n                    </label>\n                </InputFormWrapper>\n\n\n                <label style={{margin: \"0 0 15px 0\"}}>\n                    Authorization method:\n\n                    <SelectWrapper onChange={handleSelectChange}>\n                        <option value=\"phone\">Phone number</option>\n                        <option value=\"email\">E-Mail</option>\n                    </SelectWrapper>\n\n                </label>\n\n\n                <label>\n                    By clicking submit you are agreeing to the Terms and Conditions.\n                    <SubmitButton type=\"submit\" value=\"submit\" />\n                </label>\n            </FormWrapper>\n\n\n        </FormContainer>\n\n\n    )\n})\n\n\nconst FormContainer = styled(\"div\")`\n    height: 100vh;\n    width: 100vw;\n    font-family: 'Open Sans',sans-serif;\n    color: #fff;\n    background: linear-gradient(#141e30, #243b55);    \n    display: flex;\n    justify-content: center;\n`\n\nexport const FormWrapper = styled(\"form\")`\n    width: 400px;\n    height: fit-content;\n    padding: 40px;\n    background: rgba(0,0,0,.5);\n    box-sizing: border-box;\n    box-shadow: 0 15px 25px rgba(0,0,0,.6);\n    border-radius: 10px;\n    display: flex;\n    flex-direction: column;\n`\n\nexport const InputFormWrapper = styled(\"div\")`\n  width: 100%;\n  padding: 10px 0;\n  font-size: 16px;\n  color: #fff;\n  margin-bottom: 30px;\n  border: none;\n  outline: none;\n  background: transparent;\n    \n`\nexport const InputWrapper = styled(\"input\")`\n  width: 100%;\n  padding: 10px 0;\n  font-size: 16px;\n  color: #fff;\n  margin-bottom: 30px;\n  border: none;\n  border-bottom: 1px solid #fff;\n  outline: none;\n  background: transparent;\n`\n\nconst SubmitButton = styled(\"input\")`\n    background: linear-gradient(#243B6B, #8951e9);\n    width: 100%;\n    height: 8.5%;\n    padding: 10px 20px;\n    color: #f1ecf2;\n    font-size: 16px;\n    text-decoration: none;\n    text-transform: uppercase;\n    overflow: hidden;\n    transition: 0.6s;\n    cursor: pointer;\n    margin-top: 40px;\n    letter-spacing: 2px;\n    border: 2px solid;\n    &:hover {\n    background: #243b55;\n    color: #fff;\n    border-radius: 5px;\n    }\n    \n`\n\nconst SelectWrapper = styled(\"select\")`\n    padding: 5px;\n    width: 100%;\n    cursor: pointer;\n    border-radius: 5px;\n    background-color: #ddd;\n`\n","export class LoginCommand {\n    email: string\n    password: string\n\n    constructor(email: string, password: string) {\n        this.email = email\n        this.password = password\n    }\n\n}\n","import * as React from \"react\"\nimport {FormWrapper, InputFormWrapper, InputWrapper} from \"../../pages/Registration\"\nimport styled from \"styled-components\"\nimport {AuthStore} from \"../../stores/AuthStore\"\nimport {LoginCommand} from \"../../types/Auth/Requests/LoginCommand\"\n\n\nexport const LoginForm: React.FunctionComponent = () => {\n\n    const authStore = new AuthStore()\n\n    const [email, setEmail] = React.useState(\"\")\n    const [password, setPassword] = React.useState(\"\")\n\n    const handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n\n        authStore.login(new LoginCommand(email, password))\n        // window.location.reload()\n    }\n\n    return (\n        <FormWrapper onSubmit={handleFormSubmit}>\n            <InputFormWrapper>\n                <label>\n                    Enter your E-MAIL\n                    <InputWrapper value={email} type=\"text\" onChange={(event) => {\n                        setEmail(event.target.value)\n                    }} />\n                </label>\n            </InputFormWrapper>\n\n            <InputFormWrapper>\n                <label>\n                    Enter your password\n                    <InputWrapper value={password} type=\"password\" onChange={(event) => {\n                        setPassword(event.target.value)\n                    }} />\n                </label>\n            </InputFormWrapper>\n\n\n            <SubmitButton type=\"submit\" value=\"submit\" />\n\n        </FormWrapper>\n    )\n\n\n}\n\nconst SubmitButton = styled(\"input\")`\n    background: linear-gradient(#020024, #8951e9);\n    width: 100%;\n    height: 8.5%;\n    padding: 10px 20px;\n    color: #f1ecf2;\n    font-size: 16px;\n    text-decoration: none;\n    text-transform: uppercase;\n    overflow: hidden;\n    transition: 0.6s;\n    cursor: pointer;\n    margin-top: 40px;\n    letter-spacing: 2px;\n    border: 2px solid;\n    &:hover {\n    background: #243b55;\n    color: #fff;\n    border-radius: 5px;\n    }\n`\n\n\n\n\n","import * as React from \"react\"\nimport {LoginForm} from \"../LoginForm/LoginForm\"\nimport styled from \"styled-components\"\n\nexport const Navbar = () => {\n\n    const [registerPopupVisible, setRegisterPopupVisible] = React.useState(false)\n\n    const handleLoginButtonClick = (event: any) => {\n        setRegisterPopupVisible(true)\n\n    }\n\n\n    return (\n        <Container>\n            <button onClick={handleLoginButtonClick} onDoubleClick={() => {\n                setRegisterPopupVisible(false)\n            }}>Login\n            </button>\n            <LoginWrapper>\n                {registerPopupVisible && <LoginForm />}\n            </LoginWrapper>\n            <div>asdfsadf</div>\n            <div>asdfsadf</div>\n            <div>asdfsadf</div>\n            <div>asdfsadf</div>\n            <div>asdfsadf</div>\n            <div>asdfsadf</div>\n            <div>asdfsadf</div>\n        </Container>\n    )\n\n}\n\nconst Container = styled(\"div\")`\n    display: flex;\n    flex-direction: column;\n`\nconst LoginWrapper = styled(\"div\")`\n    display: flex;\n    justify-content: center;\n    \n`\n","import * as React from \"react\"\nimport {Navbar} from \"../components/ProfileBar/ProfileBar\"\n\nexport const Main: React.FunctionComponent = () => {\n\n    return (\n        <div>\n            <Navbar />\n        </div>\n    )\n}\n","export class VerifyEmailCommand {\n    email: string\n    userId: string\n\n    constructor(email: string, userId: string) {\n        this.email = email\n        this.userId = userId\n    }\n}\n","import * as React from \"react\"\nimport {observer} from \"mobx-react\"\nimport {FormWrapper, InputFormWrapper, InputWrapper} from \"./Registration\"\nimport {AuthStore} from \"../stores/AuthStore\"\nimport {VerifyEmailCommand} from \"../types/Auth/Requests/VerifyEmailCommand\"\n\nexport const Verification: React.FunctionComponent = observer(() => {\n\n    const [email, setEmail] = React.useState(\"\")\n\n    const authStore = new AuthStore()\n    const userId = localStorage.getItem(\"userId\") || \"\"\n\n    const handleFormSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault()\n        authStore.verifyEmail(new VerifyEmailCommand(email, userId))\n\n    }\n\n    return (\n        <FormWrapper onSubmit={handleFormSubmit}>\n            <InputFormWrapper>\n                <label>\n                    Please enter your E-MAIL\n                    <InputWrapper value={email} type=\"text\" onChange={(event) => setEmail(event.target.value)} />\n\n                </label>\n                <input type=\"submit\"/>\n            </InputFormWrapper>\n        </FormWrapper>\n    )\n})\n","import React from \"react\"\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\"\nimport {Messenger} from \"../Messenger/Messenger\"\nimport {Registration} from \"../../pages/Registration\"\nimport {Main} from \"../../pages/Main\"\nimport {Verification} from \"../../pages/Verification\"\n\n\nexport default function App() {\n    return (\n        <div className=\"App\">\n            <BrowserRouter>\n                <Switch>\n                    <Route exact path=\"/\" component={Messenger} />\n                    <Route exact path=\"/main\" component={Main} />\n                    <Route exact path=\"/registration\" component={Registration} />\n                    <Route exact path=\"/verification\" component={Verification} />\n\n                </Switch>\n            </BrowserRouter>\n\n        </div>\n    )\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./assets/index.css\"\nimport {BrowserRouter} from \"react-router-dom\"\nimport App from \"./components/App/App\"\n\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>,\n    document.getElementById(\"root\"),\n)\n\n\n"],"sourceRoot":""}